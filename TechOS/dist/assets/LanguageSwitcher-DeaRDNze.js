import{r as f,E as P,F as M,j as U}from"./index-Craug-YI.js";import{B as _}from"./button-D5YUjWo4.js";const G=(e,t,s,a)=>{var n,g,p,h;const i=[s,{code:t,...a||{}}];if((g=(n=e==null?void 0:e.services)==null?void 0:n.logger)!=null&&g.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);m(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(h=(p=e==null?void 0:e.services)==null?void 0:p.logger)!=null&&h.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},O={},T=(e,t,s,a)=>{m(s)&&O[s]||(m(s)&&(O[s]=new Date),G(e,t,s,a))},A=(e,t)=>()=>{if(e.isInitialized)t();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),t()};e.on("initialized",s)}},S=(e,t,s)=>{e.loadNamespaces(t,A(e,s))},j=(e,t,s,a)=>{if(m(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(t)>-1)return S(e,s,a);s.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,A(e,a))},$=(e,t,s={})=>!t.languages||!t.languages.length?(T(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,i)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!i(a.isLanguageChangingTo,e))return!1}}),m=e=>typeof e=="string",B=e=>typeof e=="object"&&e!==null,J=f.createContext();class W{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const X=(e,t)=>{const s=f.useRef();return f.useEffect(()=>{s.current=e},[e,t]),s.current},k=(e,t,s,a)=>e.getFixedT(t,s,a),Y=(e,t,s,a)=>f.useCallback(k(e,t,s,a),[e,t,s,a]),q=(e,t={})=>{var I,R,v,z;const{i18n:s}=t,{i18n:a,defaultNS:i}=f.useContext(J)||{},n=s||a||M();if(n&&!n.reportNamespaces&&(n.reportNamespaces=new W),!n){T(n,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const r=(u,l)=>m(l)?l:B(l)&&m(l.defaultValue)?l.defaultValue:Array.isArray(u)?u[u.length-1]:u,c=[r,{},!1];return c.t=r,c.i18n={},c.ready=!1,c}(I=n.options.react)!=null&&I.wait&&T(n,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const g={...P(),...n.options.react,...t},{useSuspense:p,keyPrefix:h}=g;let o=i||((R=n.options)==null?void 0:R.defaultNS);o=m(o)?[o]:o||["translation"],(z=(v=n.reportNamespaces).addUsedNamespaces)==null||z.call(v,o);const d=(n.isInitialized||n.initializedStoreOnce)&&o.every(r=>$(r,n,g)),F=Y(n,t.lng||null,g.nsMode==="fallback"?o:o[0],h),C=()=>F,E=()=>k(n,t.lng||null,g.nsMode==="fallback"?o:o[0],h),[b,w]=f.useState(C);let x=o.join();t.lng&&(x=`${t.lng}${x}`);const L=X(x),N=f.useRef(!0);f.useEffect(()=>{const{bindI18n:r,bindI18nStore:c}=g;N.current=!0,!d&&!p&&(t.lng?j(n,t.lng,o,()=>{N.current&&w(E)}):S(n,o,()=>{N.current&&w(E)})),d&&L&&L!==x&&N.current&&w(E);const u=()=>{N.current&&w(E)};return r&&(n==null||n.on(r,u)),c&&(n==null||n.store.on(c,u)),()=>{N.current=!1,n&&r&&(r==null||r.split(" ").forEach(l=>n.off(l,u))),c&&n&&c.split(" ").forEach(l=>n.store.off(l,u))}},[n,x]),f.useEffect(()=>{N.current&&d&&w(C)},[n,h,d]);const y=[b,n,d];if(y.t=b,y.i18n=n,y.ready=d,d||!d&&!p)return y;throw new Promise(r=>{t.lng?j(n,t.lng,o,()=>r()):S(n,o,()=>r())})},K=()=>{const{i18n:e}=q(),t=()=>{const s=e.language==="en"?"es":"en";e.changeLanguage(s)};return U.jsx(_,{variant:"ghost",size:"sm",onClick:t,className:"font-semibold",children:e.language==="en"?"ES":"EN"})};export{K as L,q as u};
