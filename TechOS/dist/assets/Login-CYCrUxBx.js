import{c as b,u as y,a as w,b as N,r as c,j as e,s as m}from"./index-Craug-YI.js";import{B as u}from"./button-D5YUjWo4.js";import{I as h}from"./input-Be_K3n5P.js";import{L as x}from"./label-BkJx8-4K.js";import{C,a as L,b as I,c as E,d as G}from"./card-cHz5kV7I.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=b("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),S=()=>{const d=y(),{user:l,userRole:i,loading:p}=w(),{toast:n}=N(),[o,a]=c.useState(!1);c.useEffect(()=>{if(l){const r=i?{admin:"/admin/dashboard",teacher:"/teacher/dashboard",student:"/student/dashboard",representative:"/representative/dashboard"}[i]:"/profile";d(r,{replace:!0})}},[l,i,d]);const f=async s=>{s.preventDefault(),a(!0);const r=new FormData(s.currentTarget),j=r.get("login-email"),v=r.get("login-password");try{const{error:t}=await m.auth.signInWithPassword({email:j,password:v});if(t)throw t;n({title:"Éxito",description:"Has iniciado sesión correctamente."})}catch(t){n({title:"Fallo de inicio de sesión",description:t.message||"Email o contraseña inválidos.",variant:"destructive"})}finally{a(!1)}},g=async()=>{a(!0);try{const{error:s}=await m.auth.signInWithOAuth({provider:"google"});if(s)throw s}catch(s){n({title:"Error de Google",description:s.message||"No se pudo iniciar sesión con Google.",variant:"destructive"})}finally{a(!1)}};return p?e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsx("div",{children:"Cargando..."})}):e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[e.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-primary",children:e.jsx(M,{className:"h-8 w-8 text-primary-foreground"})}),e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Academic Continuity"}),e.jsx("p",{className:"text-muted-foreground",children:"Platform for Education Management"})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(I,{children:"Bienvenido"}),e.jsx(E,{children:"Inicia sesión en tu cuenta"})]}),e.jsxs(G,{children:[e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"login-email",children:"Email"}),e.jsx(h,{id:"login-email",name:"login-email",type:"email",placeholder:"tu@ejemplo.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"login-password",children:"Contraseña"}),e.jsx(h,{id:"login-password",name:"login-password",type:"password",placeholder:"••••••••",required:!0})]}),e.jsx(u,{type:"submit",className:"w-full",disabled:o,children:o?"Iniciando sesión...":"Iniciar Sesión"})]}),e.jsxs("div",{className:"my-4 flex items-center",children:[e.jsx("div",{className:"flex-grow border-t border-muted"}),e.jsx("span",{className:"mx-4 text-xs uppercase text-muted-foreground",children:"O"}),e.jsx("div",{className:"flex-grow border-t border-muted"})]}),e.jsxs(u,{variant:"outline",className:"w-full",onClick:g,disabled:o,children:[e.jsx("span",{className:"mr-2 h-5 w-5",children:"G"}),"Continuar con Google"]})]})]})]})})};export{S as default};
