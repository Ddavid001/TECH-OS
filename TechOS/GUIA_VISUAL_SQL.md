# ğŸ“‹ GUÃA VISUAL: CÃ“MO EJECUTAR EL SQL EN SUPABASE

## ğŸ¯ **LO QUE VES AHORA EN EL MAPA**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mapa de Instituciones                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Buscar...                 Filtros            â”‚
â”‚ Resultados: 0 de 0                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ“ No se encontraron instituciones             â”‚
â”‚     Debes ejecutar el SQL en Supabase           â”‚
â”‚     [Abrir Supabase]                            â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              ğŸ—ºï¸ MAPA VACÃO                      â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ âš ï¸ Sin instituciones en el mapa       â”‚      â”‚
â”‚  â”‚                                       â”‚      â”‚
â”‚  â”‚ Para ver instituciones, debes         â”‚      â”‚
â”‚  â”‚ ejecutar el SQL en Supabase           â”‚      â”‚
â”‚  â”‚                                       â”‚      â”‚
â”‚  â”‚ ğŸ“ Pasos rÃ¡pidos:                     â”‚      â”‚
â”‚  â”‚ 1. Abre Supabase Dashboard            â”‚      â”‚
â”‚  â”‚ 2. Ve a SQL Editor                    â”‚      â”‚
â”‚  â”‚ 3. Copia SQL_RAPIDO_INSTITUCIONES.sql â”‚      â”‚
â”‚  â”‚ 4. Ejecuta (Run)                      â”‚      â”‚
â”‚  â”‚ 5. Refresca esta pÃ¡gina               â”‚      â”‚
â”‚  â”‚                                       â”‚      â”‚
â”‚  â”‚ [Abrir Supabase]  [Recargar]         â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… **PASO 1: ABRIR SUPABASE**

1. Abre tu navegador
2. Ve a: `https://supabase.com/dashboard`
3. Inicia sesiÃ³n si es necesario
4. Selecciona tu proyecto "TechOS"

---

## âœ… **PASO 2: ABRIR SQL EDITOR**

En el menÃº lateral izquierdo:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Table Editor  â”‚
â”‚ ğŸ”§ Database      â”‚
â”‚ ğŸ“ SQL Editor    â”‚ â† Click aquÃ­
â”‚ ğŸ” Auth          â”‚
â”‚ ğŸ“ Storage       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… **PASO 3: NUEVO QUERY**

1. Click en "+ New query"
2. Se abrirÃ¡ un editor de texto vacÃ­o

---

## âœ… **PASO 4: COPIAR EL SQL**

Abre el archivo `SQL_RAPIDO_INSTITUCIONES.sql` (estÃ¡ en la carpeta TechOS)

**O copia este cÃ³digo completo:**

```sql
-- CREAR TABLA
CREATE TABLE IF NOT EXISTS public.institutions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  created_at TIMESTAMPTZ DEFAULT now() NOT NULL,
  name TEXT NOT NULL,
  type TEXT NOT NULL CHECK (type IN ('school', 'university', 'institute')),
  latitude FLOAT NOT NULL,
  longitude FLOAT NOT NULL,
  is_active BOOLEAN DEFAULT true NOT NULL
);

ALTER TABLE public.institutions ENABLE ROW LEVEL SECURITY;

CREATE POLICY IF NOT EXISTS "Allow public read access to institutions" 
ON public.institutions FOR SELECT USING (is_active = true);

CREATE INDEX IF NOT EXISTS idx_institutions_type ON public.institutions(type);

-- INSERTAR DATOS
INSERT INTO public.institutions (name, type, latitude, longitude) VALUES
('Universidad Central de Venezuela', 'university', 10.489722, -66.889167),
('Universidad SimÃ³n BolÃ­var', 'university', 10.408611, -66.886111),
('Universidad CatÃ³lica AndrÃ©s Bello', 'university', 10.503056, -66.936944),
('Universidad Metropolitana', 'university', 10.497222, -66.826389),
('Universidad Santa MarÃ­a', 'university', 10.502778, -66.876944),
('Colegio Emil Friedman', 'school', 10.476667, -66.869444),
('Colegio San Ignacio', 'school', 10.494722, -66.865278),
('IUPOLC', 'institute', 10.488056, -66.877500);
```

---

## âœ… **PASO 5: PEGAR Y EJECUTAR**

1. **Pega el cÃ³digo** en el editor SQL de Supabase
2. **Click en "RUN"** (o presiona `Ctrl + Enter`)
3. Espera el mensaje de Ã©xito:
   ```
   âœ… Success
   Rows added: 8
   ```

---

## âœ… **PASO 6: VERIFICAR LOS DATOS**

En Supabase, ve a **Table Editor** y selecciona la tabla `institutions`

DeberÃ­as ver:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ name                                 â”‚ type        â”‚ latitude â”‚ longitude  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Universidad Central de Venezuela     â”‚ university  â”‚ 10.48972 â”‚ -66.889167 â”‚
â”‚ Universidad SimÃ³n BolÃ­var            â”‚ university  â”‚ 10.40861 â”‚ -66.886111 â”‚
â”‚ Universidad CatÃ³lica AndrÃ©s Bello    â”‚ university  â”‚ 10.50305 â”‚ -66.936944 â”‚
â”‚ Universidad Metropolitana            â”‚ university  â”‚ 10.49722 â”‚ -66.826389 â”‚
â”‚ Universidad Santa MarÃ­a              â”‚ university  â”‚ 10.50277 â”‚ -66.876944 â”‚
â”‚ Colegio Emil Friedman                â”‚ school      â”‚ 10.47666 â”‚ -66.869444 â”‚
â”‚ Colegio San Ignacio                  â”‚ school      â”‚ 10.49472 â”‚ -66.865278 â”‚
â”‚ IUPOLC                               â”‚ institute   â”‚ 10.48805 â”‚ -66.877500 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
8 filas
```

---

## âœ… **PASO 7: VOLVER AL MAPA**

1. Vuelve a tu navegador con TechOS
2. Ve a: `http://localhost:8081/map`
3. **Refresca la pÃ¡gina** (F5)

---

## ğŸ‰ **RESULTADO ESPERADO**

DespuÃ©s de refrescar, deberÃ­as ver:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mapa de Instituciones                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Buscar...                 Filtros            â”‚
â”‚ Tipo: Todas                                     â”‚
â”‚ Resultados: 8 de 8         âœ…                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Instituciones Encontradas:                      â”‚
â”‚                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ ğŸ“ Universidad Central de Venezuela â”‚         â”‚
â”‚ â”‚    [Universidad]                    â”‚         â”‚
â”‚ â”‚    [ğŸš— CÃ³mo llegar]                â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ ğŸ“ Universidad SimÃ³n BolÃ­var        â”‚         â”‚
â”‚ â”‚    [Universidad]                    â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚ ... (6 mÃ¡s)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              ğŸ—ºï¸ MAPA CON MARCADORES             â”‚
â”‚                                                 â”‚
â”‚        ğŸŸ£ ğŸŸ£ ğŸŸ£ ğŸŸ£ ğŸŸ£ ğŸŸ£ â† Universidades       â”‚
â”‚           ğŸ”µ ğŸ”µ â† Escuelas                      â”‚
â”‚             ğŸŸ¢ â† Instituto                      â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ ğŸ“ Permitir ubicaciÃ³n       â”‚ â† Este aparece â”‚
â”‚  â”‚ Para mostrarte...           â”‚   despuÃ©s de   â”‚
â”‚  â”‚ [Permitir] [Ahora no]       â”‚   1 segundo    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” **VERIFICAR EN LA CONSOLA DEL NAVEGADOR**

Abre la consola (F12) y deberÃ­as ver:

```
ğŸ”„ Cargando instituciones desde Supabase...
âœ… Instituciones cargadas: 8
ğŸ“ Datos: (8) [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ğŸ—ºï¸ Marcadores para el mapa: 8
```

---

## âš ï¸ **SI ALGO SALE MAL**

### **Error: "relation 'institutions' does not exist"**
**SoluciÃ³n:** Ejecuta solo la primera parte del SQL (CREATE TABLE)

### **Error: "new row violates row-level security policy"**
**SoluciÃ³n:** Verifica que ejecutaste la lÃ­nea `CREATE POLICY`

### **Sigue sin aparecer nada**
**SoluciÃ³n:**
1. Abre la consola del navegador (F12)
2. Busca mensajes de error en rojo
3. Verifica que tu archivo `.env` tenga las credenciales correctas de Supabase:
   ```
   VITE_SUPABASE_URL=tu_url_aquÃ­
   VITE_SUPABASE_ANON_KEY=tu_key_aquÃ­
   ```

---

## ğŸ“Š **PRUEBAS QUE PUEDES HACER**

### **1. BÃºsqueda:**
- Escribe "Universidad" en la barra de bÃºsqueda
- âœ… Debe aparecer dropdown con sugerencias
- âœ… MÃ¡ximo 5 resultados
- Click en una â†’ Mapa se centra

### **2. Filtros:**
- Click en "Tipo de InstituciÃ³n"
- Selecciona "Universidades"
- âœ… Lista se actualiza INMEDIATAMENTE
- âœ… Contador: "6 de 8"
- âœ… Solo marcadores morados en el mapa

### **3. UbicaciÃ³n:**
- Espera 1 segundo
- âœ… Aparece prompt de permisos sobre el mapa
- Click en "Permitir ubicaciÃ³n"
- âœ… Navegador pide permiso
- âœ… Aparece marcador rojo "U" con tu ubicaciÃ³n

### **4. "CÃ³mo llegar":**
- Click en cualquier instituciÃ³n de la lista
- Click en "CÃ³mo llegar"
- âœ… Se abre Google Maps en nueva pestaÃ±a
- âœ… Muestra la ruta desde tu ubicaciÃ³n (si la permitiste)

---

## ğŸ¯ **RESUMEN**

**Â¿DÃ³nde ejecutar el SQL?**
â†’ `https://supabase.com/dashboard` â†’ SQL Editor

**Â¿QuÃ© SQL ejecutar?**
â†’ Todo el contenido de `SQL_RAPIDO_INSTITUCIONES.sql`

**Â¿CÃ³mo saber si funcionÃ³?**
â†’ Refresca `http://localhost:8081/map` y verÃ¡s 8 instituciones

**Â¿Necesitas mÃ¡s instituciones?**
â†’ DespuÃ©s puedes ejecutar `UNIVERSIDADES_VENEZUELA.sql` (55+ instituciones)

---

**Â¡Listo! Ahora tendrÃ¡s un mapa completo con instituciones de Venezuela!** ğŸ‰



